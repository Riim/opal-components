!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rionite")):"function"==typeof define&&define.amd?define(["rionite"],t):"object"==typeof exports?exports["opal-date-input"]=t(require("rionite")):e["opal-date-input"]=t(e.rionite)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;p>=0;p--)(i=e[p])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(t,"__esModule",{value:!0}),n(49);var a=n(1),r=n(20),p=n(26),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dateExists=r.default,t}return o(t,e),t.prototype.dateInRange=function(e){var t=this.$("calendar"),n=e.match(/\d+/g),o=+n[0],i=+n[1]-1,a=+n[2];a<100&&(a+=a<50?2e3:1900);var r=new Date(a,i,o);return r>=t.fromDate&&r<=t.toDate},t.prototype._onDocumentFocusIn=function(){document.activeElement==document.body||this.element.contains(document.activeElement.parentNode)||this.$("calendar-menu").close()},t.prototype._onDocumentKeyDown=function(e){27==e.which&&(e.preventDefault(),this.$("calendar-menu").close())},t.prototype._onElementMouseUp=function(){this._elementMouseUpListening.stop(),this._elementMouseUpListening=null,this.$("text-input").$("text-field")==document.activeElement&&this.$("calendar-menu").open()},t}(a.Component);u=i([a.d.Component({elementIs:"opal-date-input",props:{fromDate:String,toDate:String,value:String,placeholder:"dd.mm.yyyy",mask:"99.99.9999",required:{default:!1,readonly:!0},popoverTo:"right"},i18n:{isRequiredField:a.getText.t("Поле обязательно для заполнения"),nonExistentDate:a.getText.t("Несуществующая дата"),invalidDateRange:a.getText.t("Дата вне допустимого диапазона")},bemlTemplate:p,events:{"text-input":{focusin:function(){this._elementMouseUpListening=this.listenTo(this.element,"mouseup",this._onElementMouseUp)},focusout:function(){this._elementMouseUpListening&&(this._elementMouseUpListening.stop(),this._elementMouseUpListening=null)},change:function(e){this.$("input-validator").valid&&(this.$("calendar").props.value=e.target.value)}},"calendar-menu":{open:function(){this._documentFocusInListening=this.listenTo(document,"focusin",this._onDocumentFocusIn),this._documentKeyDownListening=this.listenTo(document,"keydown",this._onDocumentKeyDown)},close:function(){this._documentFocusInListening.stop(),this._documentKeyDownListening.stop()}},calendar:{change:function(e){this.$("calendar-menu").close();var t=this.$("text-input");t.value=e.target.props.value,t.focus()}}}})],u),t.default=u},1:function(t,n){t.exports=e},20:function(e,t){"use strict";function n(e){var t=e.match(/\d+/g);if(!t)return!1;var n=+t[0],o=+t[1]-1,i=+t[2];i<100&&(i+=i<50?2e3:1900);var a=new Date(i,o,n);return n==a.getDate()&&o==a.getMonth()&&i==a.getFullYear()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},26:function(e,t){e.exports="opal-input-validator/input-validator {\ntemplate (is=rt-if-then, if=props.required, rt-silent) {\nopal-input-validator-rule/input-validator-rule-required (required, popover-to={props.popoverTo}) {\n'{constructor.i18n.isRequiredField}'\n}\n}\nopal-input-validator-rule/input-validator-rule-date-exists (test=dateExists, popover-to={props.popoverTo}) {\n'{constructor.i18n.nonExistentDate}'\n}\nopal-input-validator-rule/input-validator-rule-date-in-range (test=dateInRange, popover-to={props.popoverTo}) {\n'{constructor.i18n.invalidDateRange}'\n}\nopal-input-mask/input-mask (mask={props.mask}) {\nopal-text-input/text-input (\nclass=opal-input-validator__text-input opal-input-mask__text-input,\nvalue={props.value},\nplaceholder={props.placeholder},\nclearable\n)\n}\n}\nopal-dropdown/calendar-menu (auto-closing) {\nopal-calendar/calendar (from-date={props.fromDate}, to-date={props.toDate}, value={props.value}, date-delimiter=.)\n}"},49:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var n=e.createElement("style");return n.type="text/css",n.textContent=".opal-date-input{position:relative;display:inline-block;vertical-align:middle}.opal-date-input .opal-date-input__text-input{display:block}.opal-date-input .opal-date-input__calendar-menu{overflow:visible;padding:0;min-width:auto}.opal-date-input .opal-date-input__calendar{border:0}",t.appendChild(n),n}return null}(document)}})});