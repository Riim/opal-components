!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rionite")):"function"==typeof define&&define.amd?define(["rionite"],t):"object"==typeof exports?exports["opal-date-input"]=t(require("rionite")):e["opal-date-input"]=t(e.rionite)}(this,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}({0:function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,p=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(p=(i<3?a(p):i>3?a(t,o,p):a(t,o))||p);return i>3&&p&&Object.defineProperty(t,o,p),p};o(51);var i=o(1),p=o(20),r=o(27),l=function(e){function t(){var t=e.apply(this,arguments)||this;return t.dateExists=p.default,t}return n(t,e),t.prototype.dateInRange=function(e){var t=this.$("calendar"),o=e.match(/\d+/g),n=+o[0],a=+o[1]-1,i=+o[2];i<100&&(i+=i<50?2e3:1900);var p=new Date(i,a,n);return p>=t.fromDate&&p<=t.toDate},t.prototype._onDocumentMouseUp=function(){this._documentMouseUpListening.stop(),this._documentMouseUpListening=null,this.$("input").$("input")==document.activeElement&&this.$("calendar-menu").open()},t}(i.Component);l=a([i.d.Component({elementIs:"opal-date-input",props:{mask:"99.99.9999",value:String,placeholder:"dd.mm.yyyy",required:{default:!1,readonly:!0},popoverTo:"right"},i18n:{isRequiredField:i.getText.t("Поле обязательно для заполнения"),nonExistentDate:i.getText.t("Несуществующая дата"),invalidDateRange:i.getText.t("Дата вне допустимого диапазона")},template:new i.ComponentTemplate(r),events:{input:{focusin:function(){this._documentMouseUpListening||(this._documentMouseUpListening=this.listenTo(document,"mouseup",this._onDocumentMouseUp))},change:function(e){this.$("input-validator").valid&&(this.$("calendar").props.value=e.target.value)}},"calendar-menu":{change:function(e){this.$("input").value=this.$("calendar").props.value,this.$("calendar-menu").close()}}}})],l),Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},1:function(t,o){t.exports=e},20:function(e,t){"use strict";function o(e){var t=e.match(/\d+/g);if(!t)return!1;var o=+t[0],n=+t[1]-1,a=+t[2];a<100&&(a+=a<50?2e3:1900);var i=new Date(a,n,o);return o==i.getDate()&&n==i.getMonth()&&a==i.getFullYear()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},27:function(e,t){e.exports='{{block validation }} <opal-input-validator class="opal-date-input__input-validator"> {{block validation_rules }} <template is="rt-if-then" if="props.required" rt-silent=""> <opal-input-validator-rule required="" popover-to="{props.popoverTo}">{{i18n.isRequiredField}}</opal-input-validator-rule> </template> <opal-input-validator-rule test="dateExists" popover-to="{props.popoverTo}">{{i18n.nonExistentDate}}</opal-input-validator-rule> <opal-input-validator-rule test="dateInRange" popover-to="{props.popoverTo}">{{i18n.invalidDateRange}}</opal-input-validator-rule> {{/block}} {{block input_mask }} <opal-input-mask mask="{props.mask}"> {{block input }} <opal-text-input class="opal-date-input__input opal-input-validator__input opal-input-mask__input" value="{props.value}" placeholder="{props.placeholder}"></opal-text-input> {{/block}} </opal-input-mask> {{/block}} </opal-input-validator> {{/block}} {{block calendar_menu }} <opal-dropdown class="opal-date-input__calendar-menu" auto-closing=""> {{block calendar }} <opal-calendar class="opal-date-input__calendar" date-delimiter="."></opal-calendar> {{/block}} </opal-dropdown> {{/block}}'},51:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var o=e.createElement("style");return o.type="text/css",o.textContent=".opal-date-input{position:relative;display:inline-block;vertical-align:middle;line-height:0}.opal-date-input .opal-date-input__input{display:block}.opal-date-input .opal-date-input__calendar-menu{overflow:visible;padding:0;min-width:auto}.opal-date-input .opal-date-input__calendar{border:0}",t.appendChild(o),o}return null}(document)}})});