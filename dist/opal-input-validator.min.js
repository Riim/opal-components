!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rionite"),require("cellx")):"function"==typeof define&&define.amd?define(["rionite","cellx"],t):"object"==typeof exports?exports["opal-input-validator"]=t(require("rionite"),require("cellx")):e["opal-input-validator"]=t(e.rionite,e.cellx)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l};n(55);var i=n(2),l=n(1),a=n(4),p=n(4);t.OpalInputValidatorRule=p.default;var u=Array.prototype.map,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.initialize=function(){i.define(this,{failedRule:null,valid:function(){return!this.failedRule}})},t.prototype.ready=function(){this._rules=u.call(this.element.getElementsByClassName("opal-input-validator-rule"),function(e){return e.$c})},t.prototype.validate=function(){return this._validate(this._rules)},t.prototype._validate=function(e){var t,n=this,o=this.$("input").value,r=o.trim();e.forEach(function(e){var i=e.props;!t&&(r?i.minLength&&r.length<i.minLength||i.regex&&!i.regex.test(o)||i.test&&!n.ownerComponent[i.test](o):i.required)?(t=e,e.showMessage()):e.hideMessage()});var i=this.failedRule;return this.failedRule=t||null,+!!t^+!!i&&(t?(this.element.setAttribute("valid","no"),this.emit("input-validation-error")):(this.element.removeAttribute("valid"),this.emit("input-validation-valid"))),!t},t}(l.Component);s.OpalInputValidatorRule=a.default,s=r([l.d.Component({elementIs:"opal-input-validator",bemlTemplate:"rt-content/content (no-clone)",events:{input:{input:function(){this.failedRule&&this._validate([this.failedRule])},change:function(){this.validate()}}}})],s),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},1:function(t,n){t.exports=e},2:function(e,n){e.exports=t},4:function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l};n(56);var i=n(1),l=n(31),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.showMessage=function(){this.$("popover").open()},t.prototype.hideMessage=function(){this.$("popover").close()},t}(i.Component);a=r([i.d.Component({elementIs:"opal-input-validator-rule",props:{required:{default:!1,readonly:!0},minLength:{type:Number,readonly:!0},regex:{type:Object,readonly:!0},test:{type:String,readonly:!0},popoverTo:"right"},bemlTemplate:l})],a),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},31:function(e,t){e.exports="opal-popover/popover (to={props.popoverTo}) {\nrt-content/content (no-clone)\n}"},55:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var n=e.createElement("style");return n.type="text/css",n.textContent=".opal-input-validator{position:relative;display:inline-block;vertical-align:middle;line-height:0}.opal-input-validator .opal-input-validator__input{display:block}.opal-input-validator[valid=no] .opal-input-validator__input .opal-text-input__input{border-color:red}",t.appendChild(n),n}return null}(document)},56:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var n=e.createElement("style");return n.type="text/css",n.textContent=".opal-input-validator-rule{display:block}.opal-input-validator-rule .opal-input-validator-rule__content{display:block;width:240px;text-align:center}",t.appendChild(n),n}return null}(document)}})});