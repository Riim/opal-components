!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rionite"),require("cellx")):"function"==typeof define&&define.amd?define(["rionite","cellx"],e):"object"==typeof exports?exports["opal-input-validator"]=e(require("rionite"),require("cellx")):t["opal-input-validator"]=e(t.rionite,t.cellx)}(this,function(t,e){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}({0:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,l=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(i<3?r(l):i>3?r(e,o,l):r(e,o))||l);return i>3&&l&&Object.defineProperty(e,o,l),l};o(56);var i=o(2),l=o(1),a=o(4),p=o(4);e.OpalInputValidatorRule=p.default;var u=Array.prototype.map,s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){i.define(this,{failedRule:null,valid:function(){return!this.failedRule}})},e.prototype.ready=function(){this._rules=u.call(this.element.getElementsByClassName("opal-input-validator-rule"),function(t){return t.$c})},e.prototype.validate=function(){return this._validate(this._rules)},e.prototype._validate=function(t){var e,o=this,n=this.$("input").value,r=n.trim();t.forEach(function(t){var i=t.props;!e&&(r?i.minLength&&r.length<i.minLength||i.regex&&!i.regex.test(n)||i.test&&!o.ownerComponent[i.test](n):i.required)?(e=t,t.showMessage()):t.hideMessage()});var i=this.failedRule;return this.failedRule=e||null,+!!e^+!!i&&(e?(this.element.setAttribute("valid","no"),this.emit("input-validation-error")):(this.element.removeAttribute("valid"),this.emit("input-validation-valid"))),!e},e}(l.Component);s.OpalInputValidatorRule=a.default,s=r([l.d.Component({elementIs:"opal-input-validator",template:'<rt-content class="opal-input-validator__content"></rt-content>',events:{input:{input:function(){this.failedRule&&this._validate([this.failedRule])},change:function(){this.validate()}}}})],s),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},1:function(e,o){e.exports=t},2:function(t,o){t.exports=e},4:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,l=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(i<3?r(l):i>3?r(e,o,l):r(e,o))||l);return i>3&&l&&Object.defineProperty(e,o,l),l};o(57);var i=o(1),l=o(30),a=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.showMessage=function(){this.$("popover").open()},e.prototype.hideMessage=function(){this.$("popover").close()},e}(i.Component);a=r([i.d.Component({elementIs:"opal-input-validator-rule",props:{required:{default:!1,readonly:!0},minLength:{type:Number,readonly:!0},regex:{type:Object,readonly:!0},test:{type:String,readonly:!0},popoverTo:"right"},template:l})],a),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},30:function(t,e){t.exports='<opal-popover class="opal-input-validator-rule__popover" to="{props.popoverTo}"> <rt-content class="opal-input-validator-rule__content"></rt-content> </opal-popover>'},56:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var o=t.createElement("style");return o.type="text/css",o.textContent=".opal-input-validator{position:relative;display:inline-block;vertical-align:middle;line-height:0}.opal-input-validator .opal-input-validator__input{display:block}.opal-input-validator[valid=no] .opal-input-validator__input .opal-text-input__input{border-color:red}",e.appendChild(o),o}return null}(document)},57:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var o=t.createElement("style");return o.type="text/css",o.textContent=".opal-input-validator-rule{display:block}.opal-input-validator-rule .opal-input-validator-rule__content{display:block;width:240px;text-align:center}",e.appendChild(o),o}return null}(document)}})});