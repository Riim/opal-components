!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rionite"),require("cellx")):"function"==typeof define&&define.amd?define(["rionite","cellx"],e):"object"==typeof exports?exports["opal-input-validator"]=e(require("rionite"),require("cellx")):t["opal-input-validator"]=e(t.rionite,t.cellx)}(this,function(t,e){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}({0:function(t,e,i){"use strict";i(56);var n=i(2),o=i(1),a=o.Component,r=i(10);t.exports=a.extend("opal-input-validator",{Static:{OpalInputValidatorRule:r,template:'<rt-content class="opal-input-validator__content"></rt-content>',assets:{input:{"on-input":function(){this.failedRule&&this._validate([this.failedRule])},"on-change":function(){this.validate()}}}},initialize:function(){n.define(this,{failedRule:null,valid:function(){return!this.failedRule}})},ready:function(){this.assets.rules=this.$$(".opal-input-validator-rule")},validate:function(){return this._validate(this.assets.rules)},_validate:function(t){var e=this,i=this.assets.input.value,n=i.trim(),o=null;t.forEach(function(t){var a=t.props;!o&&(n?a.minLength&&n.length<a.minLength||a.regex&&!a.regex.test(i)||a.test&&!e.ownerComponent[a.test](i):a.required)?(o=t,t.showMessage()):t.hideMessage()});var a=this.failedRule;return this.failedRule=o,!!o^!!a&&(o?(this.element.setAttribute("valid","no"),this.emit("input-validation-error")):(this.element.removeAttribute("valid"),this.emit("input-validation-valid"))),!o}})},1:function(e,i){e.exports=t},2:function(t,i){t.exports=e},10:function(t,e,i){"use strict";i(57);var n=i(1),o=n.Component;t.exports=o.extend("opal-input-validator-rule",{Static:{props:{required:{default:!1,readonly:!0},minLength:{type:Number,readonly:!0},regex:{type:Object,readonly:!0},test:{type:String,readonly:!0},popoverTo:"right"},template:i(30),assets:{popover:{}}},showMessage:function(){this.assets.popover.open()},hideMessage:function(){this.assets.popover.close()}})},30:function(t,e){t.exports='<opal-popover class="opal-input-validator-rule__popover" to="{props.popoverTo}"> <rt-content class="opal-input-validator-rule__content"></rt-content> </opal-popover>'},56:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var i=t.createElement("style");return i.type="text/css",i.textContent=".opal-input-validator{position:relative;display:inline-block;vertical-align:middle}.opal-input-validator .opal-input-validator__input{display:block}.opal-input-validator[valid=no] .opal-input-validator__input .opal-text-input__input{border-color:red}",e.appendChild(i),i}return null}(document)},57:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var i=t.createElement("style");return i.type="text/css",i.textContent=".opal-input-validator-rule{display:block}.opal-input-validator-rule .opal-input-validator-rule__content{display:block;width:240px;text-align:center}",e.appendChild(i),i}return null}(document)}})});