!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rionite"),require("cellx")):"function"==typeof define&&define.amd?define(["rionite","cellx"],e):"object"==typeof exports?exports["opal-input-validator"]=e(require("rionite"),require("cellx")):t["opal-input-validator"]=e(t.rionite,t.cellx)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}({0:function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,l=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(i<3?r(l):i>3?r(e,n,l):r(e,n))||l);return i>3&&l&&Object.defineProperty(e,n,l),l};n(56);var i=n(2),l=n(1),a=n(4),p=n(4);e.OpalInputValidatorRule=p.default;var u=Array.prototype.map,s=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.initialize=function(){i.define(this,{failedRule:null,valid:function(){return!this.failedRule}})},e.prototype.ready=function(){this._rules=u.call(this.element.getElementsByClassName("opal-input-validator-rule"),function(t){return t.$c})},e.prototype.validate=function(){return this._validate(this._rules)},e.prototype._validate=function(t){var e,n=this,o=this.$("input").value,r=o.trim();t.forEach(function(t){var i=t.props;!e&&(r?i.minLength&&r.length<i.minLength||i.regex&&!i.regex.test(o)||i.test&&!n.ownerComponent[i.test](o):i.required)?(e=t,t.showMessage()):t.hideMessage()});var i=this.failedRule;return this.failedRule=e||null,+!!e^+!!i&&(e?(this.element.setAttribute("valid","no"),this.emit("input-validation-error")):(this.element.removeAttribute("valid"),this.emit("input-validation-valid"))),!e},e}(l.Component);s.OpalInputValidatorRule=a.default,s=r([l.d.Component({elementIs:"opal-input-validator",bemlTemplate:"rt-content/content",events:{input:{input:function(){this.failedRule&&this._validate([this.failedRule])},change:function(){this.validate()}}}})],s),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},1:function(e,n){e.exports=t},2:function(t,n){t.exports=e},4:function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,l=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(i<3?r(l):i>3?r(e,n,l):r(e,n))||l);return i>3&&l&&Object.defineProperty(e,n,l),l};n(57);var i=n(1),l=n(80),a=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.showMessage=function(){this.$("popover").open()},e.prototype.hideMessage=function(){this.$("popover").close()},e}(i.Component);a=r([i.d.Component({elementIs:"opal-input-validator-rule",props:{required:{default:!1,readonly:!0},minLength:{type:Number,readonly:!0},regex:{type:Object,readonly:!0},test:{type:String,readonly:!0},popoverTo:"right"},bemlTemplate:l})],a),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},56:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var n=t.createElement("style");return n.type="text/css",n.textContent=".opal-input-validator{position:relative;display:inline-block;vertical-align:middle;line-height:0}.opal-input-validator .opal-input-validator__input{display:block}.opal-input-validator[valid=no] .opal-input-validator__input .opal-text-input__input{border-color:red}",e.appendChild(n),n}return null}(document)},57:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var n=t.createElement("style");return n.type="text/css",n.textContent=".opal-input-validator-rule{display:block}.opal-input-validator-rule .opal-input-validator-rule__content{display:block;width:240px;text-align:center}",e.appendChild(n),n}return null}(document)},80:function(t,e){t.exports="opal-popover/popover (to={props.popoverTo}) {\nrt-content/content\n}"}})});