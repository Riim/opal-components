!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rionite"),require("cellx")):"function"==typeof define&&define.amd?define(["rionite","cellx"],e):"object"==typeof exports?exports["opal-input-validator"]=e(require("rionite"),require("cellx")):t["opal-input-validator"]=e(t.rionite,t.cellx)}(this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}({0:function(t,e,n){"use strict";n(56);var i=n(2),o=n(1),r=o.Component,a=n(10);t.exports=r.extend("opal-input-validator",{Static:{OpalInputValidatorRule:a,template:'<rt-content class="opal-input-validator__content"></rt-content>',assets:{input:{"on-input":function(){this.failedRule&&this._validate([this.failedRule])},"on-change":function(){this.validate()}}}},initialize:function(){i.define(this,{failedRule:null,valid:function(){return!this.failedRule}})},ready:function(){this.assets.rules=this.$$(".opal-input-validator-rule")},validate:function(){return this._validate(this.assets.rules)},_validate:function(t){var e=this,n=this.assets.input.value,i=n.trim(),o=null;t.forEach(function(t){var r=t.props;!o&&(i?r.minLength&&i.length<r.minLength||r.regex&&!r.regex.test(n)||r.test&&!e.ownerComponent[r.test](n):r.required)?(o=t,t.showMessage()):t.hideMessage()});var r=this.failedRule;return this.failedRule=o,!!o^!!r&&(o?(this.element.setAttribute("valid","no"),this.emit("input-validation-error")):(this.element.removeAttribute("valid"),this.emit("input-validation-valid"))),!o}})},1:function(e,n){e.exports=t},2:function(t,n){t.exports=e},10:function(t,e,n){"use strict";n(57);var i=n(1),o=i.Component;t.exports=o.extend("opal-input-validator-rule",{Static:{props:{required:{default:!1,readonly:!0},minLength:{type:Number,readonly:!0},regex:{type:Object,readonly:!0},test:{type:String,readonly:!0},popoverTo:"right"},template:n(30),assets:{popover:{}}},showMessage:function(){this.assets.popover.open()},hideMessage:function(){this.assets.popover.close()}})},30:function(t,e){t.exports='<opal-popover class="opal-input-validator-rule__popover" to="{props.popoverTo}"> <rt-content class="opal-input-validator-rule__content"></rt-content> </opal-popover>'},56:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var n=t.createElement("style");return n.type="text/css",n.textContent=".opal-input-validator{position:relative;display:inline-block}.opal-input-validator[valid=no] .opal-input-validator__input .opal-text-input__input{border-color:red}",e.appendChild(n),n}return null}(document)},57:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var n=t.createElement("style");return n.type="text/css",n.textContent=".opal-input-validator-rule{display:block}.opal-input-validator-rule .opal-input-validator-rule__content{display:block;width:240px;text-align:center}",e.appendChild(n),n}return null}(document)}})});