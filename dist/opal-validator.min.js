!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rionite"),require("cellx")):"function"==typeof define&&define.amd?define(["rionite","cellx"],t):"object"==typeof exports?exports["opal-validator"]=t(require("rionite"),require("cellx")):e["opal-validator"]=t(e.rionite,e.cellx)}(this,function(e,t){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}({0:function(e,t,o){"use strict";o(70);var n=o(2),r=o(1),i=r.Component,a=o(18);e.exports=i.extend("opal-validator",{Static:{OpalValidatorRule:a,template:'<rt-content class="opal-validator__content"></rt-content>',assets:{input:{"on-input":function(){this.failedRule&&this._validate([this.failedRule])},"on-change":function(){this.validate()}}}},initialize:function(){n.define(this,{failedRule:null,valid:function(){return!this.failedRule}})},ready:function(){this.assets.rules=this.$$(".opal-validator-rule")},validate:function(){return this._validate(this.assets.rules)},_validate:function(e){var t=this,o=this.assets.input.value,n=o.trim(),r=null;return e.forEach(function(e){var i=e.props;!r&&(n?i.minLength&&n.length<i.minLength||i.regex&&!i.regex.test(o)||i.test&&!t.ownerComponent[i.test](o):i.required)?(r=e,e.showMessage()):e.hideMessage()}),this.failedRule=r,r?this.element.setAttribute("valid","no"):this.element.removeAttribute("valid"),!r}})},1:function(t,o){t.exports=e},2:function(e,o){e.exports=t},18:function(e,t,o){"use strict";o(71);var n=o(1),r=n.Component;e.exports=r.extend("opal-validator-rule",{Static:{props:{required:{default:!1,readonly:!0},minLength:{type:Number,readonly:!0},regex:{type:Object,readonly:!0},test:{type:String,readonly:!0},popoverTo:"right"},template:o(40),assets:{popover:{}}},showMessage:function(){this.assets.popover.open()},hideMessage:function(){this.assets.popover.close()}})},40:function(e,t){e.exports='<opal-popover class="opal-validator-rule__popover" to="{props.popoverTo}"> <rt-content class="opal-validator-rule__content"></rt-content> </opal-popover>'},70:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var o=e.createElement("style");return o.type="text/css",o.textContent=".opal-validator{position:relative;display:inline-block}.opal-validator[valid=no] .opal-validator__input .opal-text-input__input{border-color:red}",t.appendChild(o),o}return null}(document)},71:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var o=e.createElement("style");return o.type="text/css",o.textContent=".opal-validator-rule{display:block}.opal-validator-rule .opal-validator-rule__content{display:block;width:240px;text-align:center}",t.appendChild(o),o}return null}(document)}})});