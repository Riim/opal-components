!function(o,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rionite"),require("cellx"),require("cellx-indexed-collections")):"function"==typeof define&&define.amd?define(["rionite","cellx","cellx-indexed-collections"],t):"object"==typeof exports?exports["opal-multirow"]=t(require("rionite"),require("cellx"),require("cellx-indexed-collections")):o["opal-multirow"]=t(o.rionite,o.cellx,o["cellx-indexed-collections"])}(this,function(o,t,e){return function(o){function t(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:!1};return o[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e={};return t.m=o,t.c=e,t.p="",t(0)}({0:function(o,t,e){"use strict";e(61);var n=e(2),r=n.Utils.nextUID,l=n.cellx,i=e(3),a=i.IndexedList,s=e(1),w=s.ComponentTemplate,p=s.Component,c=e(11),u=Array.prototype.filter;o.exports=p.extend("opal-multirow",{Static:{OpalMultirowRow:c,template:new w(e(33)),events:{":component":{"remove-row-click":function(o){var t=this,e=o.target;e.props.preset?(this.$("presetRowsContainer").element.removeChild(e.element),this._presetRowCount--):this._newRows.remove(this._newRows.get(e.parentComponent.element.dataset.key,"key")),setTimeout(function(){t.emit("remove-row"),t.emit("change")},1)},"add-row-click":function(){var o=this;this._newRows.add({key:r()}),setTimeout(function(){o.emit("add-row"),o.emit("change")},1)}}}},initialize:function(){l.define(this,{_presetRowCount:0,_newRows:new a(null,{indexes:["key"]}),_notHavePresetRows:function(){return!this._presetRowCount},_notHaveNewRows:function(){return!this._newRows.length},_notSingleRow:function(){return this._presetRowCount+this._newRows.length!=1}})},ready:function(){var o=this._presetRowCount=u.call(this.element.getElementsByClassName("opal-multirow-row"),function(o){return o.$c.props.preset}).length;o||this._newRows.add({key:r()})}})},1:function(t,e){t.exports=o},2:function(o,e){o.exports=t},3:function(o,t){o.exports=e},11:function(o,t,e){"use strict";e(62);var n=e(1),r=n.ComponentTemplate,l=n.Component;o.exports=l.extend("opal-multirow-row",{Static:{props:{preset:{default:!1,readonly:!0}},template:new r(e(34)),events:{"btn-remove-row":{click:function(){this.emit("remove-row-click")}},"btn-add-row":{click:function(){this.emit("add-row-click")}}}}})},33:function(o,t){o.exports='{{block preset_rows }} <rt-content class="opal-multirow__preset-rows-container" select="opal-multirow-row[preset], .opal-multirow__preset-rows" not-have-new-rows="{_notHaveNewRows}" not-single-row="{_notSingleRow}"></rt-content> {{/block}} <div class="opal-multirow__new-rows-container" not-have-preset-rows="{_notHavePresetRows}" not-single-row="{_notSingleRow}"> <template is="rt-repeat" for="row of _newRows" track-by="key" rt-silent=""> {{block row }} <rt-content select="opal-multirow-row:not([preset])" data-key="{row.key}"></rt-content> {{/block}} </template> </div>'},34:function(o,t){o.exports='<rt-content class="opal-multirow-row__content"></rt-content> {{block buttons }} <opal-sign-button class="opal-multirow-row__btn-remove-row" sign="minus"></opal-sign-button> <opal-sign-button class="opal-multirow-row__btn-add-row" sign="plus"></opal-sign-button> {{/block}}'},61:function(o,t){o.exports=function(o){var t=o.head||o.getElementsByTagName("head")[0];if(t){var e=o.createElement("style");return e.type="text/css",e.textContent=".opal-multirow{display:block}",t.appendChild(e),e}return null}(document)},62:function(o,t){o.exports=function(o){var t=o.head||o.getElementsByTagName("head")[0];if(t){var e=o.createElement("style");return e.type="text/css",e.textContent=".opal-multirow-row{display:block;white-space:nowrap}.opal-multirow-row::after{display:table;clear:both;content:''}.opal-multirow-row .opal-multirow-row__content{display:inline-block;margin-bottom:19px;padding-right:6px}.opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow-row .opal-multirow-row__btn-add-row{position:relative;top:1px;display:none}.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__content,.opal-multirow__new-rows-container rt-content:last-child .opal-multirow-row .opal-multirow-row__content{margin-bottom:0}.opal-multirow__preset-rows-container[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__new-rows-container[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__btn-add-row,.opal-multirow__new-rows-container rt-content:last-child .opal-multirow-row .opal-multirow-row__btn-add-row{display:inline-block}.opal-multirow-row .opal-popover{white-space:normal}",t.appendChild(e),e}return null}(document)}})});