!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rionite"),require("cellx"),require("cellx-indexed-collections")):"function"==typeof define&&define.amd?define(["rionite","cellx","cellx-indexed-collections"],e):"object"==typeof exports?exports["opal-multirow"]=e(require("rionite"),require("cellx"),require("cellx-indexed-collections")):t["opal-multirow"]=e(t.rionite,t.cellx,t["cellx-indexed-collections"])}(this,function(t,e,o){return function(t){function e(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}({0:function(t,e,o){"use strict";var r=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,r){var n,l=arguments.length,i=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(l<3?n(i):l>3?n(e,o,i):n(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};o(61);var l=o(2),i=o(3),s=o(1),a=o(11),p=o(33),c=l.Utils.nextUID,w=Array.prototype.filter,u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(){l.define(this,{_presetRowCount:0,_newRows:new i.IndexedList((void 0),{indexes:["key"]}),_notHavePresetRows:function(){return!this._presetRowCount},_notHaveNewRows:function(){return!this._newRows.length},_notSingleRow:function(){return this._presetRowCount+this._newRows.length!=1}})},e.prototype.ready=function(){var t=this._presetRowCount=w.call(this.element.getElementsByClassName("opal-multirow-row"),function(t){return t.$c.props.preset}).length;t||this._newRows.add({key:c()})},e}(s.Component);u.OpalMultirowRow=a.default,u=n([s.d.Component({elementIs:"opal-multirow",template:new s.ComponentTemplate(p),events:{":component":{"remove-row-click":function(t){var e=this,o=t.target;o.props.preset?(this.$("preset-rows-container").element.removeChild(o.element),this._presetRowCount--):this._newRows.remove(this._newRows.get(o.parentComponent.element.dataset.key,"key")),setTimeout(function(){e.emit("remove-row"),e.emit("change")},1)},"add-row-click":function(){var t=this;this._newRows.add({key:c()}),setTimeout(function(){t.emit("add-row"),t.emit("change")},1)}}}})],u),Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},1:function(e,o){e.exports=t},2:function(t,o){t.exports=e},3:function(t,e){t.exports=o},11:function(t,e,o){"use strict";var r=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,r){var n,l=arguments.length,i=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(l<3?n(i):l>3?n(e,o,i):n(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};o(62);var l=o(1),i=o(34),s=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(l.Component);s=n([l.d.Component({elementIs:"opal-multirow-row",props:{preset:{default:!1,readonly:!0}},template:new l.ComponentTemplate(i),events:{"btn-remove-row":{click:function(){this.emit("remove-row-click")}},"btn-add-row":{click:function(){this.emit("add-row-click")}}}})],s),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},33:function(t,e){t.exports='{{block preset_rows }} <rt-content class="opal-multirow__preset-rows-container" select="opal-multirow-row[preset], .opal-multirow__preset-rows" not-have-new-rows="{_notHaveNewRows}" not-single-row="{_notSingleRow}"></rt-content> {{/block}} <div class="opal-multirow__new-rows-container" not-have-preset-rows="{_notHavePresetRows}" not-single-row="{_notSingleRow}"> <template is="rt-repeat" for="row of _newRows" track-by="key" rt-silent=""> {{block row }} <rt-content select="opal-multirow-row:not([preset])" data-key="{row.key}"></rt-content> {{/block}} </template> </div>'},34:function(t,e){t.exports='<rt-content class="opal-multirow-row__content"></rt-content> {{block buttons }} <opal-sign-button class="opal-multirow-row__btn-remove-row" sign="minus"></opal-sign-button> <opal-sign-button class="opal-multirow-row__btn-add-row" sign="plus"></opal-sign-button> {{/block}}'},61:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var o=t.createElement("style");return o.type="text/css",o.textContent=".opal-multirow{display:block}",e.appendChild(o),o}return null}(document)},62:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var o=t.createElement("style");return o.type="text/css",o.textContent=".opal-multirow-row{display:block;white-space:nowrap}.opal-multirow-row::after{display:table;clear:both;content:''}.opal-multirow-row .opal-multirow-row__content{display:inline-block;margin-bottom:20px;padding-right:6px}.opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow-row .opal-multirow-row__btn-add-row{position:relative;top:1px;display:none}.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__content,.opal-multirow__new-rows-container rt-content:last-child .opal-multirow-row .opal-multirow-row__content{margin-bottom:0}.opal-multirow__preset-rows-container[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__new-rows-container[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__btn-add-row,.opal-multirow__new-rows-container rt-content:last-child .opal-multirow-row .opal-multirow-row__btn-add-row{display:inline-block}.opal-multirow-row .opal-popover{white-space:normal}",e.appendChild(o),o}return null}(document)}})});