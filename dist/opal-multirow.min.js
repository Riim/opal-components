!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rionite"),require("cellx"),require("cellx-indexed-collections")):"function"==typeof define&&define.amd?define(["rionite","cellx","cellx-indexed-collections"],t):"object"==typeof exports?exports["opal-multirow"]=t(require("rionite"),require("cellx"),require("cellx-indexed-collections")):e["opal-multirow"]=t(e.rionite,e.cellx,e["cellx-indexed-collections"])}(this,function(e,t,o){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}({0:function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,o,l):r(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l};o(60);var i=o(2),l=o(3),s=o(1),a=o(16),p=o(32),c=i.Utils.nextUID,w=Array.prototype.filter,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initialize=function(){i.define(this,{_presetRowCount:0,_newRows:new l.IndexedList(void 0,{indexes:["key"]}),_notHavePresetRows:function(){return!this._presetRowCount},_notHaveNewRows:function(){return!this._newRows.length},_notSingleRow:function(){return this._presetRowCount+this._newRows.length!=1}})},t.prototype.ready=function(){var e=this._presetRowCount=w.call(this.element.getElementsByClassName("opal-multirow-row"),function(e){return e.$c.props.preset}).length;e||this._newRows.add({key:c()})},t}(s.Component);u.OpalMultirowRow=a.default,u=r([s.d.Component({elementIs:"opal-multirow",bemlTemplate:p,events:{":component":{"remove-row-click":function(e){var t=this,o=e.target;o.props.preset?(this.$("preset-rows-container").element.removeChild(o.element),this._presetRowCount--):this._newRows.remove(this._newRows.get(o.parentComponent.element.dataset.key,"key")),setTimeout(function(){t.emit("remove-row"),t.emit("change")},1)},"add-row-click":function(){var e=this;this._newRows.add({key:c()}),setTimeout(function(){e.emit("add-row"),e.emit("change")},1)}}}})],u),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},1:function(t,o){t.exports=e},2:function(e,o){e.exports=t},3:function(e,t){e.exports=o},16:function(e,t,o){"use strict";var n=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,o,l):r(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l};o(61);var i=o(1),l=o(33),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i.Component);s=r([i.d.Component({elementIs:"opal-multirow-row",props:{preset:{default:!1,readonly:!0}},bemlTemplate:l,events:{"btn-remove-row":{click:function(){this.emit("remove-row-click")}},"btn-add-row":{click:function(){this.emit("add-row-click")}}}})],s),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},32:function(e,t){e.exports="rt-content/preset-rows-container (\nselect='opal-multirow-row[preset], .opal-multirow__preset-rows',\nnot-have-new-rows={_notHaveNewRows},\nnot-single-row={_notSingleRow},\nno-clone\n)\ndiv/new-rows (not-have-preset-rows={_notHavePresetRows}, not-single-row={_notSingleRow}) {\ntemplate (is=rt-repeat, for=row of _newRows, track-by=key, rt-silent) {\nrt-content/new-row-container (select='opal-multirow-row:not([preset])', data-key={row.key})\n}\n}"},33:function(e,t){e.exports="rt-content/content (no-clone)\n' '\nopal-sign-button/btn-remove-row (sign=minus)\n' '\nopal-sign-button/btn-add-row (sign=plus)"},60:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var o=e.createElement("style");return o.type="text/css",o.textContent=".opal-multirow{display:block}",t.appendChild(o),o}return null}(document)},61:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var o=e.createElement("style");return o.type="text/css",o.textContent=".opal-multirow-row{display:block;white-space:nowrap}.opal-multirow-row::after{display:table;clear:both;content:''}.opal-multirow-row .opal-multirow-row__content{display:inline-block;margin-bottom:20px;padding-right:6px}.opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow-row .opal-multirow-row__btn-add-row{position:relative;top:1px;display:none}.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__content,.opal-multirow__new-rows rt-content:last-child .opal-multirow-row .opal-multirow-row__content{margin-bottom:0}.opal-multirow__preset-rows-container[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__new-rows[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__btn-add-row,.opal-multirow__new-rows rt-content:last-child .opal-multirow-row .opal-multirow-row__btn-add-row{display:inline-block}.opal-multirow-row .opal-popover{white-space:normal}",t.appendChild(o),o}return null}(document)}})});