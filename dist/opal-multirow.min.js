!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("rionite"),require("cellx"),require("cellx-indexed-collections")):"function"==typeof define&&define.amd?define(["rionite","cellx","cellx-indexed-collections"],o):"object"==typeof exports?exports["opal-multirow"]=o(require("rionite"),require("cellx"),require("cellx-indexed-collections")):t["opal-multirow"]=o(t.rionite,t.cellx,t["cellx-indexed-collections"])}(this,function(t,o,e){return function(t){function o(r){if(e[r])return e[r].exports;var n=e[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}var e={};return o.m=t,o.c=e,o.p="",o(0)}({0:function(t,o,e){"use strict";e(54);var r=e(2),n=r.utils.nextUID,l=r.cellx,i=e(3),s=i.IndexedList,w=e(1),a=w.Component,p=w.template,c=e(9);t.exports=a.extend("opal-multirow",{Static:{OpalMultirowRow:c,template:p(e(29)),assets:{":component":{"on-remove-row-click":function(t){var o=this,e=t.target;e.props.preset?(this.assets.presetRows.element.removeChild(e.element),this._presetRowCount--):this._newRows.remove(this._newRows.get(e.parentComponent.element.dataset.key,"key")),setTimeout(function(){o.emit("remove-row"),o.emit("change")},1)},"on-add-row-click":function(){var t=this;this._newRows.add({key:n()}),setTimeout(function(){t.emit("add-row"),t.emit("change")},1)}},presetRows:{}}},initialize:function(){l.define(this,{_presetRowCount:0,_newRows:new s(null,{indexes:["key"]}),_noPresetRows:function(){return!this._presetRowCount},_noNewRows:function(){return!this._newRows.length},_notLastRow:function(){return this._presetRowCount+this._newRows.length!=1}})},ready:function(){var t=this._presetRowCount=this.$$(".opal-multirow-row").filter(function(t){return t.props.preset}).length;t||this._newRows.add({key:n()})}})},1:function(o,e){o.exports=t},2:function(t,e){t.exports=o},3:function(t,o){t.exports=e},9:function(t,o,e){"use strict";e(55);var r=e(1),n=r.Component,l=r.template;t.exports=n.extend("opal-multirow-row",{Static:{props:{preset:!1},template:l(e(30)),assets:{btnRemoveRow:{"on-click":function(){this.emit("remove-row-click")}},btnAddRow:{"on-click":function(){this.emit("add-row-click")}}}},elementAttributeChanged:function(t){if("preset"==t)throw new TypeError('Property "preset" cannot be changed')}})},29:function(t,o){t.exports='{{block preset_rows }} <rt-content class="opal-multirow__preset-rows" select="opal-multirow-row[preset]" no-new-rows="{_noNewRows}" not-last-row="{_notLastRow}"></rt-content> {{/block}} <div class="opal-multirow__new-rows" no-preset-rows="{_noPresetRows}" not-last-row="{_notLastRow}"> <template is="rt-repeat" for="row of _newRows" track-by="key"> {{block row }} <rt-content select="opal-multirow-row:not([preset])" data-key="{row.key}"></rt-content> {{/block}} </template> </div>'},30:function(t,o){t.exports='<rt-content class="opal-multirow-row__content"></rt-content> {{block buttons }} <opal-sign-button class="opal-multirow-row__btn-remove-row" sign="minus"></opal-sign-button> <opal-sign-button class="opal-multirow-row__btn-add-row" sign="plus"></opal-sign-button> {{/block}}'},54:function(t,o){t.exports=function(t){var o=t.head||t.getElementsByTagName("head")[0];if(o){var e=t.createElement("style");return e.type="text/css",e.textContent="",o.appendChild(e),e}return null}(document)},55:function(t,o){t.exports=function(t){var o=t.head||t.getElementsByTagName("head")[0];if(o){var e=t.createElement("style");return e.type="text/css",e.textContent=".opal-multirow-row{display:block;white-space:nowrap}.opal-multirow-row::after{display:table;clear:both;content:''}.opal-multirow-row .opal-multirow-row__content{display:inline-block;margin-bottom:19px;padding-right:6px}.opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow-row .opal-multirow-row__btn-add-row{display:none;margin-top:2px}.opal-multirow__preset-rows[no-new-rows] .opal-multirow-row:last-child .opal-multirow-row__content,.opal-multirow__new-rows rt-content:last-child .opal-multirow-row .opal-multirow-row__content{margin-bottom:0}.opal-multirow__preset-rows[not-last-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__new-rows[not-last-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__preset-rows[no-new-rows] .opal-multirow-row:last-child .opal-multirow-row__btn-add-row,.opal-multirow__new-rows rt-content:last-child .opal-multirow-row .opal-multirow-row__btn-add-row{display:inline-block}",o.appendChild(e),e}return null}(document)}})});