!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rionite"),require("cellx"),require("cellx-indexed-collections")):"function"==typeof define&&define.amd?define(["rionite","cellx","cellx-indexed-collections"],e):"object"==typeof exports?exports["opal-multirow"]=e(require("rionite"),require("cellx"),require("cellx-indexed-collections")):t["opal-multirow"]=e(t.rionite,t.cellx,t["cellx-indexed-collections"])}(this,function(t,e,o){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}({0:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,l=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(i<3?r(l):i>3?r(e,o,l):r(e,o))||l);return i>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(e,"__esModule",{value:!0}),o(59);var i=o(2),l=o(3),a=o(1),p=o(16),s=o(31),c=i.Utils.nextUID,w=Array.prototype.filter,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){i.define(this,{_presetRowCount:0,_newRows:new l.IndexedList(void 0,{indexes:["key"]}),_notHaveNewRows:function(){return!this._newRows.length},_notSingleRow:function(){return this._presetRowCount+this._newRows.length!=1}})},e.prototype.ready=function(){(this._presetRowCount=w.call(this.element.getElementsByClassName("opal-multirow-row"),function(t){return t.$c.props.preset}).length)||this._newRows.add({key:c()})},e}(a.Component);u.OpalMultirowRow=p.default,u=r([a.d.Component({elementIs:"opal-multirow",bemlTemplate:s,events:{":component":{"<opal-multirow-row>remove-row-click":function(t){var e=this,o=t.target;o.props.preset?(this.$("preset-rows-container").element.removeChild(o.element),this._presetRowCount--):this._newRows.remove(this._newRows.get(o.parentComponent.element.dataset.key,"key")),setTimeout(function(){e.emit("remove-row"),e.emit("change")},1)},"<opal-multirow-row>add-row-click":function(){var t=this;this._newRows.add({key:c()}),setTimeout(function(){t.emit("add-row"),t.emit("change")},1)}}}})],u),e.default=u},1:function(e,o){e.exports=t},2:function(t,o){t.exports=e},3:function(t,e){t.exports=o},16:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,l=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(i<3?r(l):i>3?r(e,o,l):r(e,o))||l);return i>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(e,"__esModule",{value:!0}),o(60);var i=o(1),l=o(32),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i.Component);a=r([i.d.Component({elementIs:"opal-multirow-row",props:{preset:{default:!1,readonly:!0}},bemlTemplate:l,events:{"btn-remove-row":{click:function(){this.emit("remove-row-click")}},"btn-add-row":{click:function(){this.emit("add-row-click")}}}})],a),e.default=a},31:function(t,e){t.exports="rt-content/preset-rows-container (\nselect='opal-multirow-row[preset], .opal-multirow__preset-rows',\nnot-have-new-rows={_notHaveNewRows},\nnot-single-row={_notSingleRow},\ncloning=no\n)\ndiv/new-rows (not-single-row={_notSingleRow}) {\n@repeat (for=row of _newRows, track-by=key, rt-silent) {\nrt-content/new-row-container (select='opal-multirow-row:not([preset])', data-key={row.key})\n}\n}"},32:function(t,e){t.exports="rt-content/content (cloning=no)\n' '\nopal-sign-button/btn-remove-row (sign=minus)\n' '\nopal-sign-button/btn-add-row (sign=plus)"},59:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var o=t.createElement("style");return o.type="text/css",o.textContent=".opal-multirow{display:block}",e.appendChild(o),o}return null}(document)},60:function(t,e){t.exports=function(t){var e=t.head||t.getElementsByTagName("head")[0];if(e){var o=t.createElement("style");return o.type="text/css",o.textContent=".opal-multirow-row{display:block;white-space:nowrap}.opal-multirow-row::after{display:table;clear:both;content:''}.opal-multirow-row .opal-multirow-row__content{display:inline-block;margin-bottom:20px;padding-right:6px}.opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow-row .opal-multirow-row__btn-add-row{position:relative;top:1px;display:none}.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__content,.opal-multirow__new-rows rt-content:last-child .opal-multirow-row .opal-multirow-row__content{margin-bottom:0}.opal-multirow__preset-rows-container[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__new-rows[not-single-row] .opal-multirow-row .opal-multirow-row__btn-remove-row,.opal-multirow__preset-rows-container[not-have-new-rows] .opal-multirow-row:last-child .opal-multirow-row__btn-add-row,.opal-multirow__new-rows rt-content:last-child .opal-multirow-row .opal-multirow-row__btn-add-row{display:inline-block}.opal-multirow-row .opal-popover{white-space:normal}",e.appendChild(o),o}return null}(document)}})});