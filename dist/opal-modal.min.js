!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("rionite")):"function"==typeof define&&define.amd?define(["rionite"],o):"object"==typeof exports?exports["opal-modal"]=o(require("rionite")):e["opal-modal"]=o(e.rionite)}(this,function(e){return function(e){function o(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}var t={};return o.m=e,o.c=t,o.p="",o(0)}({0:function(e,o,t){"use strict";function n(){var e=document.body;if(document.activeElement!=e)for(var o=r[0].element,t=document.activeElement.parentNode;t!=o;t=t.parentNode)if(t==e){r[0].btnClose.focus();break}}function a(e){27==e.keyCode&&(e.preventDefault(),r[0].close())}t(23);var l=t(3),i=l.Component,r=[],s=void 0;e.exports=i.extend("opal-modal",{Static:{props:{opened:!1},template:t(24),assets:{":element":{"on-click":function(e){e.target==this.element&&(this.props.opened=!1)}},btnClose:{"on-click":function(){this.props.opened=!1}}}},ready:function(){this.props.opened&&this._open()},elementDetached:function(){this.close()},elementAttributeChanged:function(e,o,t){"opened"==e&&this[t?"_open":"_close"]()},open:function(){return!this.props.opened&&(this.props.opened=!0,!0)},close:function(){return!!this.props.opened&&(this.props.opened=!1,!0)},toggle:function(e){return this.props.opened=void 0===e?!this.props.opened:e},_open:function(){if(r.length)r[0].element.classList.add("_overlapped");else{s=this.listenTo(document,{focusin:n,keyup:a});var e=document.body,o=e.offsetWidth;e.style.overflow="hidden",o<e.offsetWidth&&(e.style.marginRight=e.offsetWidth-o+"px")}this.props.opened=!0,r.unshift(this),this.assets.btnClose.focus(),this.emit("open")},_close:function(){var e=r.indexOf(this);if(e&&r[e-1].close(),this.props.opened=!1,r.shift(),r.length)r[0].element.classList.remove("_overlapped"),r[0].assets.btnClose.focus();else{s.stop();var o=document.body.style;o.overflow="",o.marginRight=""}this.emit("close")}})},3:function(o,t){o.exports=e},23:function(e,o){e.exports=function(e){var o=e.head||e.getElementsByTagName("head")[0];if(o){var t=e.createElement("style");return t.type="text/css",t.textContent=".opal-modal{position:fixed;top:0;left:0;z-index:1000;display:none;overflow:auto;box-sizing:border-box;padding:30px 60px;width:100%;height:100%;background:rgba(0,0,0,.6);text-align:center;white-space:nowrap;cursor:default}.opal-modal::before{display:inline-block;width:0;height:100%;content:'';vertical-align:middle}.opal-modal__window{display:inline-block;padding:30px;border-radius:3px;background:#fff;box-shadow:0 0 20px rgba(0,0,0,.3);vertical-align:middle;text-align:left;white-space:normal}.opal-modal__btn-close{position:absolute;top:20px;right:20px;box-sizing:content-box;padding:10px;width:25px;height:25px;border:0;background:0 0;cursor:pointer}.opal-modal__btn-close::before,.opal-modal__btn-close::after{position:absolute;top:21px;left:10px;width:25px;height:3px;border-radius:2px;background:#e6e6e6;content:'';transition:background .1s;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.opal-modal__btn-close::after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.opal-modal__btn-close:hover::before,.opal-modal__btn-close:hover::after,.opal-modal__window:hover .opal-modal__btn-close:hover::before,.opal-modal__window:hover .opal-modal__btn-close:hover::after{background:#fff}.opal-modal__btn-close:active::before,.opal-modal__btn-close:active::after,.opal-modal__window:hover .opal-modal__btn-close:active::before,.opal-modal__window:hover .opal-modal__btn-close:active::after{background:#b3b3b3}.opal-modal__window:hover .opal-modal__btn-close::before,.opal-modal__window:hover .opal-modal__btn-close::after{background:#ccc}.opal-modal__content{position:relative;display:block}.opal-modal[opened]{display:block}.opal-modal._overlapped{left:100%;overflow:visible}",o.appendChild(t),t}return null}(document)},24:function(e,o){e.exports='<span class="opal-modal__window"> <button class="opal-modal__btn-close"></button> <rt-content class="opal-modal__content"></rt-content> </span>'}})});