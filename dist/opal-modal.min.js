!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rionite")):"function"==typeof define&&define.amd?define(["rionite"],e):"object"==typeof exports?exports["opal-modal"]=e(require("rionite")):o["opal-modal"]=e(o.rionite)}(this,function(o){return function(o){function e(a){if(t[a])return t[a].exports;var n=t[a]={exports:{},id:a,loaded:!1};return o[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var t={};return e.m=o,e.c=t,e.p="",e(0)}({0:function(o,e,t){"use strict";function a(){var o=document.body;if(document.activeElement!=o)for(var e=d[0].element,t=document.activeElement.parentNode;t!=e;t=t.parentNode)if(t==o){d[0].btnClose.focus();break}}function n(o){27==o.keyCode&&(o.preventDefault(),d[0].close())}t(30);var l=t(3),p=l.Component,d=[],i=void 0;o.exports=p.extend("opal-modal",{Static:{props:{opened:!1},template:t(31),assets:{":element":{"on-click":function(o){o.target==this.element&&(this.props.opened=!1)}},btnClose:{"on-click":function(){this.props.opened=!1}}}},ready:function(){this.props.opened&&this._open()},elementDetached:function(){this.close()},elementAttributeChanged:function(o,e,t){"opened"==o&&this[t?"_open":"_close"]()},open:function(){return!this.props.opened&&(this.props.opened=!0,!0)},close:function(){return!!this.props.opened&&(this.props.opened=!1,!0)},toggle:function(o){return this.props.opened=void 0===o?!this.props.opened:o},_open:function(){if(d.length)d[0].element.classList.add("_overlapped");else{i=this.listenTo(document,{focusin:a,keyup:n});var o=document.body,e=o.offsetWidth;o.style.overflow="hidden",e<o.offsetWidth&&(o.style.marginRight=o.offsetWidth-e+"px")}this.props.opened=!0,d.unshift(this),this.assets.btnClose.focus(),this.emit("open")},_close:function(){var o=d.indexOf(this);if(o&&d[o-1].close(),this.props.opened=!1,d.shift(),d.length)d[0].element.classList.remove("_overlapped"),d[0].assets.btnClose.focus();else{i.stop();var e=document.body.style;e.overflow="",e.marginRight=""}this.emit("close")}})},3:function(e,t){e.exports=o},30:function(o,e){o.exports=function(o){var e=o.head||o.getElementsByTagName("head")[0];if(e){var t=o.createElement("style");return t.type="text/css",t.textContent=".opal-modal{position:fixed;top:0;left:0;z-index:1000;display:none;overflow:auto;box-sizing:border-box;padding:30px 60px;width:100%;height:100%;background:rgba(0,0,0,.6);text-align:center;white-space:nowrap;cursor:default}.opal-modal::before{display:inline-block;width:0;height:100%;content:'';vertical-align:middle}.opal-modal .opal-modal__window{display:inline-block;padding:30px;border-radius:3px;background:#fff;box-shadow:0 0 20px rgba(0,0,0,.3);vertical-align:middle;text-align:left;white-space:normal}.opal-modal .opal-modal__btn-close{position:absolute;top:20px;right:20px;box-sizing:content-box;padding:10px;width:25px;height:25px;border:0;background:0 0;cursor:pointer}.opal-modal .opal-modal__btn-close::before,.opal-modal .opal-modal__btn-close::after{position:absolute;top:21px;left:10px;width:25px;height:3px;border-radius:2px;background:#e6e6e6;content:'';transition:background .1s;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.opal-modal .opal-modal__btn-close::after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.opal-modal .opal-modal__window:hover .opal-modal__btn-close::before,.opal-modal .opal-modal__window:hover .opal-modal__btn-close::after{background:#ccc}.opal-modal .opal-modal__btn-close:hover::before,.opal-modal .opal-modal__btn-close:hover::after,.opal-modal .opal-modal__window:hover .opal-modal__btn-close:hover::before,.opal-modal .opal-modal__window:hover .opal-modal__btn-close:hover::after{background:#fff}.opal-modal .opal-modal__btn-close:active::before,.opal-modal .opal-modal__btn-close:active::after,.opal-modal .opal-modal__window:hover .opal-modal__btn-close:active::before,.opal-modal .opal-modal__window:hover .opal-modal__btn-close:active::after{background:#b3b3b3}.opal-modal .opal-modal__content{position:relative;display:block}.opal-modal[opened]{display:block}.opal-modal._overlapped{left:100%;overflow:visible}",e.appendChild(t),t}return null}(document)},31:function(o,e){o.exports='<span class="opal-modal__window"> <button class="opal-modal__btn-close"></button> <rt-content class="opal-modal__content"></rt-content> </span>'}})});