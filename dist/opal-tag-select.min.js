!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("cellx"),require("rionite")):"function"==typeof define&&define.amd?define(["cellx","rionite"],t):"object"==typeof exports?exports["opal-tag-select"]=t(require("cellx"),require("rionite")):e["opal-tag-select"]=t(e.cellx,e.rionite)}(this,function(e,t){return function(e){function t(a){if(o[a])return o[a].exports;var l=o[a]={exports:{},id:a,loaded:!1};return e[a].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}({0:function(e,t,o){"use strict";o(58);var a=o(2),l=o(3),p=l.Component;e.exports=p.extend("opal-tag-select",{Static:{props:{type:String,dataprovider:String,viewModel:String,placeholder:"Не выбрано",popoverTo:"bottom",disabled:!1},template:o(59),assets:{":element":{"on-click":function(e){for(var t=this.element,o=e.target;o!=t;o=o.parentNode)1==o.nodeType&&o.classList.contains(this._prepareSelector("&__btn-remove-tag").slice(1))&&this.viewModel.remove(this.viewModel.get(o.dataset.tagValue,"value"))}},select:{}}},initialize:function(){var e=this.props.dataprovider;if(!e)throw new TypeError('Property "dataprovider" is required');this[e]=(this.ownerComponent||window)[e],a.define(this,{viewModel:null,placeholderShown:function(){return!(!this.props.placeholder||this.viewModel&&this.viewModel.length)}})},ready:function(){this.viewModel=this.assets.select.viewModel}})},2:function(t,o){t.exports=e},3:function(e,o){e.exports=t},58:function(e,t){e.exports=function(e){var t=e.head||e.getElementsByTagName("head")[0];if(t){var o=e.createElement("style");return o.type="text/css",o.textContent=".opal-tag-select{display:block}.opal-tag-select::after{display:table;clear:both;content:''}.opal-tag-select .opal-tag-select__tag{position:relative;display:inline-block;float:left;margin:2px 38px 2px 0;padding:0 10px 0 16px;border-top-left-radius:16px;border-bottom-left-radius:16px;background:#5b7d9a;color:#fff;line-height:32px;transition:background .1s}.opal-tag-select .opal-tag-select__btn-remove-tag{position:absolute;top:0;bottom:0;left:100%;display:block;padding:0;width:32px;border:0;border-top-right-radius:16px;border-bottom-right-radius:16px;background:#516270;box-shadow:inset 1px 0 rgba(0,0,0,.4);cursor:pointer}.opal-tag-select .opal-tag-select__btn-remove-tag::before{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:12px;height:2px;background:#fff;content:''}.opal-tag-select .opal-tag-select__btn-remove-tag:hover{background:#5b7d9a}.opal-tag-select .opal-tag-select__btn-remove-tag:focus{outline:none}body:not(._no-focus-highlight) .opal-tag-select .opal-tag-select__btn-remove-tag:focus::after{position:absolute;top:2px;right:2px;bottom:2px;left:2px;border:1px solid rgba(255,255,255,.8);border-radius:inherit;content:'';pointer-events:none}.opal-tag-select .opal-tag-select__btn-remove-tag:active{background:#43484c}.opal-tag-select .opal-tag-select__placeholder{display:inline-block;float:left;margin-right:6px;line-height:36px}.opal-tag-select .opal-tag-select__select{float:left;margin:3px 0}.opal-tag-select[type=action] .opal-tag-select__tag{background:#0083f5}.opal-tag-select[type=action] .opal-tag-select__btn-remove-tag{background:#0a67b8}.opal-tag-select[type=action] .opal-tag-select__btn-remove-tag:hover{background:#0083f5}.opal-tag-select[type=action] .opal-tag-select__btn-remove-tag:active{background:#0e4b81}",t.appendChild(o),o}return null}(document)},59:function(e,t){e.exports='<template is="rt-if-then" if="viewModel?.length"> <template is="rt-repeat" for="tag of viewModel"> <span class="opal-tag-select__tag" data-value="{tag.value}">{tag.text}<button class="opal-tag-select__btn-remove-tag" data-tag-value="{tag.value}"></button></span> </template> </template> <template is="rt-if-then" if="placeholderShown"> <span class="opal-tag-select__placeholder">{props.placeholder}</span> </template> <opal-select class="opal-tag-select__select" view-model="{props.viewModel}" multiple=""> <opal-sign-button class="opal-tag-select__btn-plus opal-select__button" sign="plus" checkable=""></opal-sign-button> <opal-popover class="opal-select__menu" to="{props.popoverTo}" auto-closing=""> <opal-filtered-list class="opal-select__filtered-list"> <opal-loaded-list class="opal-select__loaded-list opal-filtered-list__loaded-list" dataprovider="{props.dataprovider}"> <opal-select-option text="{$item.value}"></opal-select-option> </opal-loaded-list> </opal-filtered-list> </opal-popover> </opal-select>'}})});